<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>一覧画面</title>
    <link rel="stylesheet" href="https://unpkg.com/sanitize.css" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <p>
      店名選択：<select>
        <option value=""></option>
        <option value="日本橋本店">日本橋本店</option>
        <option value="新宿店">新宿店</option>
        <option value="長野店">長野店</option>
      </select>
    </p>

    <form action="List.html">
      <table>
        <tr>
          <th>商品ID</th>
          <th>商品名</th>
          <th>値段(円)</th>
          <th>注文数</th>
          <th>金額(円)</th>
        </tr>
        <tr>
          <td>001</td>
          <td>りんご</td>
          <td>200</td>
          <td class="order"></td>
          <td></td>
        </tr>
        <tr>
          <td>007</td>
          <td>甘栗</td>
          <td>300</td>
          <td class="order"></td>
          <td></td>
        </tr>
      </table>

      <button type="submit">送信する</button>
    </form>
  </body>
  <script>
    orderList();
    function orderList() {
      let select = [];
      let order = document.getElementsByClassName('order');
      for (let i = 0; i < order.length; i++) {
        let selectHtml = '<select id=select' + i + '>';
        for (let j = 0; j < 10; j++) {
          selectHtml += '<option>' + j + '</option>';
        }
        order[i].innerHTML = selectHtml + '</select>';
        select[i] = document.getElementById('select' + i);
        select[i].addEventListener('change', calc);
      }
    }
    function calc() {
      let elements; //form内の要素
      let orderNumber; //要素の値(注文数)
      let order = document.getElementsByClassName('order');
      for (let i = 0; i < order.length; i++) {
        elements = document.forms[0].elements[i];
        orderNumber = elements.value;
        console.log('orderNumber:' + orderNumber);
      }
    }
  </script>
</html>
